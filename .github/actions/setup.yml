name: Common setup
description: 'Setup cache and dependencies for common for all Udash CI jobs'
runs:
  using: "composite"
  steps:
    - name: Cache sbt
      uses: actions/cache@v2
      with:
        path: |
          ~/.sbt
          ~/.ivy2/cache
          ~/.coursier/cache
          ~/.cache/coursier
        key: ${{ runner.os }}-sbt-${{ hashFiles('**/*.sbt') }}-${{ hashFiles('project/build.properties') }}-${{ hashFiles('project/Dependencies.scala') }}
        restore-keys: ${{ runner.os }}-sbt-
    - name: Set up JDK 11
      uses: actions/setup-java@v1
      with:
        java-version: 11